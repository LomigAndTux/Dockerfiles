Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.activate = activate;
exports.deactivate = deactivate;
exports.consumeDefinitionsService = consumeDefinitionsService;
exports.getClickProvider = getClickProvider;

var _atom = require("atom");

var _goToDefinition = require("./goToDefinition");

var _atomIdeBaseCommonsAtomProviderRegistry = require("atom-ide-base/commons-atom/ProviderRegistry");

var _clickProvider = require("./clickProvider");

"use babel";

var providerRegistry = new _atomIdeBaseCommonsAtomProviderRegistry.ProviderRegistry(); // <DefinitionsProvider>
var clickProvider = new _clickProvider.ClickProvider({
  providerRegistry: providerRegistry
});
var subscriptions = new _atom.CompositeDisposable();

function activate() {
  subscriptions.add(atom.commands.add("atom-workspace", {
    "atom-ide-go-to-definition:go-to-definition": function atomIdeGoToDefinitionGoToDefinition() {
      var editor = atom.workspace.getActiveTextEditor();
      (0, _goToDefinition.goToDefinition)(providerRegistry, { editor: editor });
    }
  }));
  require("atom-package-deps").install("atom-ide-definitions", true);
}

function deactivate() {
  subscriptions.dispose();
}

function consumeDefinitionsService(provider) {
  var providerDisposable = providerRegistry.addProvider(provider);
  subscriptions.add(providerDisposable);
  return providerDisposable;
}

function getClickProvider() {
  return clickProvider.getProvider();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9yb290Ly5hdG9tL3BhY2thZ2VzL2F0b20taWRlLWRlZmluaXRpb25zL2xpYi9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O29CQUVvQyxNQUFNOzs4QkFDWCxrQkFBa0I7O3NEQUNoQiw2Q0FBNkM7OzZCQUNoRCxpQkFBaUI7O0FBTC9DLFdBQVcsQ0FBQTs7QUFPWCxJQUFNLGdCQUFnQixHQUFHLDhEQUFzQixDQUFBO0FBQy9DLElBQU0sYUFBYSxHQUFHLGlDQUFrQjtBQUN0QyxrQkFBZ0IsRUFBaEIsZ0JBQWdCO0NBQ2pCLENBQUMsQ0FBQTtBQUNGLElBQU0sYUFBYSxHQUFHLCtCQUF5QixDQUFBOztBQUV4QyxTQUFTLFFBQVEsR0FBRztBQUN6QixlQUFhLENBQUMsR0FBRyxDQUNmLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFO0FBQ2xDLGdEQUE0QyxFQUFFLCtDQUFNO0FBQ2xELFVBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsbUJBQW1CLEVBQUUsQ0FBQTtBQUNuRCwwQ0FBZSxnQkFBZ0IsRUFBRSxFQUFFLE1BQU0sRUFBTixNQUFNLEVBQUUsQ0FBQyxDQUFBO0tBQzdDO0dBQ0YsQ0FBQyxDQUNILENBQUE7QUFDRCxTQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxPQUFPLENBQUMsc0JBQXNCLEVBQUUsSUFBSSxDQUFDLENBQUE7Q0FDbkU7O0FBRU0sU0FBUyxVQUFVLEdBQUc7QUFDM0IsZUFBYSxDQUFDLE9BQU8sRUFBRSxDQUFBO0NBQ3hCOztBQUVNLFNBQVMseUJBQXlCLENBQUMsUUFBUSxFQUFFO0FBQ2xELE1BQU0sa0JBQWtCLEdBQUcsZ0JBQWdCLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQ2pFLGVBQWEsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtBQUNyQyxTQUFPLGtCQUFrQixDQUFBO0NBQzFCOztBQUVNLFNBQVMsZ0JBQWdCLEdBQUc7QUFDakMsU0FBTyxhQUFhLENBQUMsV0FBVyxFQUFFLENBQUE7Q0FDbkMiLCJmaWxlIjoiL3Jvb3QvLmF0b20vcGFja2FnZXMvYXRvbS1pZGUtZGVmaW5pdGlvbnMvbGliL21haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBiYWJlbFwiXG5cbmltcG9ydCB7IENvbXBvc2l0ZURpc3Bvc2FibGUgfSBmcm9tIFwiYXRvbVwiXG5pbXBvcnQgeyBnb1RvRGVmaW5pdGlvbiB9IGZyb20gXCIuL2dvVG9EZWZpbml0aW9uXCJcbmltcG9ydCB7IFByb3ZpZGVyUmVnaXN0cnkgfSBmcm9tIFwiYXRvbS1pZGUtYmFzZS9jb21tb25zLWF0b20vUHJvdmlkZXJSZWdpc3RyeVwiXG5pbXBvcnQgeyBDbGlja1Byb3ZpZGVyIH0gZnJvbSBcIi4vY2xpY2tQcm92aWRlclwiXG5cbmNvbnN0IHByb3ZpZGVyUmVnaXN0cnkgPSBuZXcgUHJvdmlkZXJSZWdpc3RyeSgpIC8vIDxEZWZpbml0aW9uc1Byb3ZpZGVyPlxuY29uc3QgY2xpY2tQcm92aWRlciA9IG5ldyBDbGlja1Byb3ZpZGVyKHtcbiAgcHJvdmlkZXJSZWdpc3RyeSxcbn0pXG5jb25zdCBzdWJzY3JpcHRpb25zID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUoKVxuXG5leHBvcnQgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gIHN1YnNjcmlwdGlvbnMuYWRkKFxuICAgIGF0b20uY29tbWFuZHMuYWRkKFwiYXRvbS13b3Jrc3BhY2VcIiwge1xuICAgICAgXCJhdG9tLWlkZS1nby10by1kZWZpbml0aW9uOmdvLXRvLWRlZmluaXRpb25cIjogKCkgPT4ge1xuICAgICAgICBjb25zdCBlZGl0b3IgPSBhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVUZXh0RWRpdG9yKClcbiAgICAgICAgZ29Ub0RlZmluaXRpb24ocHJvdmlkZXJSZWdpc3RyeSwgeyBlZGl0b3IgfSlcbiAgICAgIH0sXG4gICAgfSlcbiAgKVxuICByZXF1aXJlKFwiYXRvbS1wYWNrYWdlLWRlcHNcIikuaW5zdGFsbChcImF0b20taWRlLWRlZmluaXRpb25zXCIsIHRydWUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWFjdGl2YXRlKCkge1xuICBzdWJzY3JpcHRpb25zLmRpc3Bvc2UoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc3VtZURlZmluaXRpb25zU2VydmljZShwcm92aWRlcikge1xuICBjb25zdCBwcm92aWRlckRpc3Bvc2FibGUgPSBwcm92aWRlclJlZ2lzdHJ5LmFkZFByb3ZpZGVyKHByb3ZpZGVyKVxuICBzdWJzY3JpcHRpb25zLmFkZChwcm92aWRlckRpc3Bvc2FibGUpXG4gIHJldHVybiBwcm92aWRlckRpc3Bvc2FibGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENsaWNrUHJvdmlkZXIoKSB7XG4gIHJldHVybiBjbGlja1Byb3ZpZGVyLmdldFByb3ZpZGVyKClcbn1cbiJdfQ==